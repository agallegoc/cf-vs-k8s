# Build Service

* Create a Java Spring Boot application in your editor of choice with the following core

Application requires Spring Boot Starter "Web". Sample code provided in this repo.

```java
@SpringBootApplication
@RestController
public class SimpleWebApplication {
	
	@Value("${CF_INSTANCE_GUID:not_set}")
	String cfInstance;

	@Value("${HOSTNAME:not_set}")
	String hostname;
	
	private String getHostName(){

		if(!hostname.equals("not_set")) return hostname;
		if(!cfInstance.equals("not_set")) return cfInstance;
		return "no_host_info";

	}

	@GetMapping("/hello")
	String hello(){

		return getHostName()+": Hello, bootiful world! (v1) ";
	}

	@GetMapping("/fail")
	String fail() {

		System.exit(0);
		return "fixed!";
	}

	public static void main(String[] args) {
		SpringApplication.run(SimpleWebApplication.class, args);
	}
}
```

* Perform a local test run 

```bash
mvn spring-boot:run 
```

* Check endpoints

```bash
curl localhost:8080/hello
null: Hello, bootiful world! (v1)

http localhost:8080/hello
HTTP/1.1 200
Content-Length: 28
Content-Type: text/plain;charset=UTF-8
Date: Fri, 23 Mar 2018 17:33:01 GMT

null: Hello, bootiful world! (v1)
```

use your browser alternatively

* Build the jar file

```bash
mvn install
[INFO] BUILD SUCCESS

~/g/c/SimpleWeb> ls target

SimpleWeb-0.0.1-SNAPSHOT.jar
```
